<div class="main-block">
  <div class="main-block__top">
    <div class="main-block__search">
      <div class="search-icon"></div>
      <input
        [(ngModel)]="search"
        (ngModelChange)="updateSearch()"
        class="search"
        placeholder="{{ 'SEARCH' | translate }}"
        type="text"
        name="search"
      />
    </div>
    <div class="main-block__buttons">
      <div
        *ngIf="selectedFiles.length > 0 && currentUser.post == 1"
        class="button delete"
        (click)="deleteItems()"
      >
        {{ "DELETE" | translate }}
      </div>
      <div
        *ngIf="selectedFiles.length > 0"
        (click)="download()"
        class="button download"
      >
        {{ "DOWNLOAD" | translate }}
      </div>
    </div>
  </div>
  <app-upload *ngIf="path === 'my'" (fileLoad)="getFiles()"></app-upload>
  <div class="main-block__files" [ngClass]="{ notMy: path !== 'my' }">
    <div class="files__fields">
      <div class="field all" (click)="selectAll()">
        <mat-icon>crop_square</mat-icon>
      </div>
      <div (click)="sortFiles('name')" class="field name">
        {{ "TABLE.name" | translate
        }}<span class="down"><mat-icon>arrow_drop_down</mat-icon></span>
      </div>
      <div (click)="sortFiles('author')" class="field author">
        {{ "TABLE.author" | translate
        }}<span class="down"><mat-icon>arrow_drop_down</mat-icon></span>
      </div>
      <div (click)="sortFiles('size')" class="field size">
        {{ "TABLE.size" | translate
        }}<span class="down"><mat-icon>arrow_drop_down</mat-icon></span>
      </div>
      <div (click)="sortFiles('category')" class="field category">
        {{ "TABLE.category" | translate
        }}<span class="down"><mat-icon>arrow_drop_down</mat-icon></span>
      </div>
      <div (click)="sortFiles('date')" class="field date">
        {{ "TABLE.date" | translate
        }}<span class="down"><mat-icon>arrow_drop_down</mat-icon></span>
      </div>
    </div>
    <div class="files__all">
      <app-file
        *ngFor="let file of files"
        [file]="file"
        [choose]="selectedFiles.includes(file.id)"
        (chooseItem)="chooseItem($event)"
      ></app-file>
    </div>
  </div>
</div>
